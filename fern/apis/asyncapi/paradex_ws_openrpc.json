{
    "openrpc": "1.1.0",
    "info": {
        "title": "WebSocket JSON-RPC API",
        "version": "1.0.0",
        "description": "Paradex WebSocket JSON-RPC API"
    },
    "servers": [
        {
            "name": "websocket",
            "url": "wss://ws.api.${env}.paradex.trade/v1",
            "summary":"WebSocket API"
        }
    ],
    "methods": [
        {
            "name": "auth",
            "summary": "Authenticate the WebSocket connection",
            "description": "Authentication is required in order to subscribe to `fills`, `positions`, `tradebusts`, `account` and `transaction` channels. The JWT string is obtained from the `POST /auth` endpoint.",
            "paramStructure": "by-name",
            "params": [
                {
                    "name": "bearer",
                    "required": true,
                    "description": "JWT string",
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "result": {
                "name": "empty",
                "schema": {
                    "type": "object",
                    "properties": {}
                }
            },
            "examples": [
                {
                    "name": "auth",
                    "params": [
                        {
                            "name": "bearer",
                            "value": "JWcgwMbK0bx1uFFef0Lri35ZDwypmCG0isuBv"
                        }
                    ],
                    "result": {
                        "name": "empty",
                        "value": {}
                    }
                }
            ]
        },
        {
            "name": "subscribe",
            "summary": "Subscribe to a channel",
            "description": "Multiple calls to `subscribe` can be made, each for a different channel.\n\nSubscribing to the same channel more than once will return an error.\n\nRefer to the [WebSocket Channels documentation][ws-channels] for a list of supported channels.",
            "paramStructure": "by-name",
            "params": [
                {
                    "name": "channel",
                    "required": true,
                    "description": "Channel name",
                    "schema": {
                        "$ref": "#/components/schemas/channel_name"
                    }
                }
            ],
            "result": {
                "name": "response",
                "description": "",
                "schema": {
                    "type": "object",
                    "properties": {
                        "channel": {
                            "type": "string",
                            "description": "The name of the channel that was subscribed to."
                        }
                    }
                }
            },
            "examples": [
                {
                    "name": "subscribe",
                    "summary": "Subscribe to `trades.BTC-USD-PERP` channel",
                    "description": "",
                    "params": [
                        {
                            "name": "channel",
                            "value": "trades.BTC-USD-PERP"
                        }
                    ],
                    "result": {
                        "name": "subscribeResult",
                        "value": {
                            "channel": "trades.BTC-USD-PERP"
                        }
                    }
                }
            ]
        },
        {
            "name": "unsubscribe",
            "summary": "Unsubscribe from a channel",
            "description": "Unsubscribing from a channel that you are not subscribed to will return an error.",
            "paramStructure": "by-name",
            "params": [
                {
                    "name": "channel",
                    "required": true,
                    "description": "Channel name",
                    "schema": {
                        "$ref": "#/components/schemas/channel_name"
                    }
                }
            ],
            "result": {
                "name": "response",
                "description": "",
                "schema": {
                    "type": "object",
                    "properties": {
                        "channel": {
                            "type": "string",
                            "description": "The name of the channel that was unsubscribed from."
                        }
                    }
                }
            },
            "examples": [
                {
                    "name": "unsubscribe",
                    "summary": "Unsubscribe from `trades.BTC-USD-PERP` channel",
                    "description": "",
                    "params": [
                        {
                            "name": "channel",
                            "value": "trades.BTC-USD-PERP"
                        }
                    ],
                    "result": {
                        "name": "unsubscribeResult",
                        "value": {
                            "channel": "trades.BTC-USD-PERP"
                        }
                    }
                }
            ]
        }
    ],
    "components": {
        "schemas": {
            "channel_name": {
                "type": "string",
                "enum": [
                    "orders.{market_name}",
                    "tradebusts",
                    "fills.{market_name}",
                    "positions",
                    "funding_data.{market_name}",
                    "funding_payments.{market_name}",
                    "markets_summary",
                    "account",
                    "trades.{market_name}",
                    "transaction",
                    "transfers",
                    "order_book.{market_name}.snapshot@15@{refresh_rate}",
                    "order_book.{market_name}.deltas",
                    "bbo.{market_name}",
                    "balance_events",
                    "points_data.{market_name}.{program_name}"
                ]
            }
        }
    }
}
