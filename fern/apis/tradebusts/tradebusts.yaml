asyncapi: 2.6.0
info:
  title: WebSocket channels
  version: ''
  description: |
    Channels that can be subscribed to to get real time updates by
    using <a href="#subscribe">subscribe</a>.
channels:
  tradebusts:
    bindings:
      ws:
        headers:
          type: object
          properties:
            Authorization:
              type: string
              description: 'API Key'
    subscribe:
      summary: 'Private websocket channel to receive fills that are busted by a blockchain'
      message:
        name: trade_bust
        title: Trade Bust
        payload:
          type: object
          description: 'Tradebust details'
          additionalProperties: false
          properties:
            account:
              description: Starknet Account from which fill was created
              type: string
              example: '0x495d2eb5236a12b8b4ad7d3849ce6a203ce21c43f473c248dfd5ce70d9454fa'
            busted_fill_id:
              description: Unique string ID of the busted fill
              type: string
              example: '12342345'
            created_at:
              description: Bust creation time in milliseconds
              type: integer
              example: 1696291200000
components:
  parameters:
    market_symbol:
      description:
        Symbol of the market (any open market returned by `GET /markets`)
      schema:
        type: string
    market_symbol_or_all:
      description:
        Either the symbol of the market (any open market returned by `GET /markets`) or `"ALL"` to subscribe for updates to all markets
      schema:
        type: string
    program_name:
      description: Name of the program to subscribe to for updates
      schema:
        type: string
        enum:
          - Maker
          - Fee
    refresh_rate:
      description: Rate of sending updates
      schema:
        type: string
        enum:
          - 50ms
          - 100ms
  schemas:
    properties:
      MarketSymbol:
        type: string
        description: Symbol of the market
      OrderSide:
        type: string
        description: Order side
        enum:
          - BUY
          - SELL
      timestamp:
        type: number
        format: Unix Timestamp (ms)
        example: 1681462770114
    deltas:
      type: object
      properties:
        side:
          type: string
          enum:
            - BUY
            - SELL
        price:
          type: string
          minimum: 0
          example: 1234.12
        size:
          type: string
          minimum: 0
          example: 12.12
