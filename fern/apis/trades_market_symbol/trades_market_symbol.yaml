asyncapi: 2.6.0
info:
  title: WebSocket channels
  version: ''
  description: |
    Channels that can be subscribed to to get real time updates by
    using <a href="#subscribe">subscribe</a>.
channels:
  trades/{market_symbol}:
    summary: 'Public websocket channel to receive updates on trades in particular market'
    parameters:
      market_symbol:
        description: Either the symbol of the market (any open market returned by `GET /markets`) or `"ALL"` to subscribe for updates to all markets
        schema:
          type: string
    bindings:
      ws:
        headers:
          type: object
          properties:
            Authorization:
              type: string
              description: 'API Key'
    subscribe:
      summary: 'Public websocket channel to receive updates on trades in particular market'
      message:
        name: trade
        title: Trade
        payload:
          type: object
          description: 'Trade details'
          additionalProperties: false
          properties:
            created_at:
              description: Trade time in milliseconds
              type: integer
              example: 1696291200000
            id:
              description: Unique Trade ID per TradeType
              type: string
              example: '12345643'
            market:
              $ref: '#/components/schemas/properties/MarketSymbol'
            price:
              description: Trade price
              type: string
              example: '30001.2'
            side:
              description: Which side was a Taker
              type: string
              enum:
                - BUY
                - SELL
            size:
              description: Trade size
              type: string
              example: '0.01'
            trade_type:
              description: Type of trade
              type: string
              enum:
                - FILL
                - LIQUIDATION
components:
  parameters:
    market_symbol:
      description:
        Symbol of the market (any open market returned by `GET /markets`)
      schema:
        type: string
    market_symbol_or_all:
      description:
        Either the symbol of the market (any open market returned by `GET /markets`) or `"ALL"` to subscribe for updates to all markets
      schema:
        type: string
    program_name:
      description: Name of the program to subscribe to for updates
      schema:
        type: string
        enum:
          - Maker
          - Fee
    refresh_rate:
      description: Rate of sending updates
      schema:
        type: string
        enum:
          - 50ms
          - 100ms
  schemas:
    properties:
      MarketSymbol:
        type: string
        description: Symbol of the market
      OrderSide:
        type: string
        description: Order side
        enum:
          - BUY
          - SELL
      timestamp:
        type: number
        format: Unix Timestamp (ms)
        example: 1681462770114
    deltas:
      type: object
      properties:
        side:
          type: string
          enum:
            - BUY
            - SELL
        price:
          type: string
          minimum: 0
          example: 1234.12
        size:
          type: string
          minimum: 0
          example: 12.12
